<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ORDM Blockchain 2-Layer - Matrix Terminal</title>
    <link rel="stylesheet" href="/static/css/matrix-theme.css">
    <link rel="stylesheet" href="/static/css/typography.css">
    <link rel="stylesheet" href="/static/css/animations.css">
</head>
<body class="matrix-bg">
    <div class="matrix-container">
        <div class="matrix-login-container">
            <div class="matrix-logo">
                <h1 class="matrix-title matrix-animate-glow">ORDM</h1>
                <p class="matrix-subtitle">Blockchain 2-Layer Terminal</p>
            </div>
            
            <div class="matrix-tabs">
                <button class="matrix-tab active" data-tab="simple">LOGIN SIMPLES</button>
                <button class="matrix-tab" data-tab="advanced">LOGIN AVANÇADO</button>
            </div>
            
            <div class="matrix-form-container">
                <form id="simple-login" class="matrix-form active">
                    <div class="matrix-input-group">
                        <label class="matrix-label">USUÁRIO</label>
                        <input type="text" name="username" class="matrix-input" required>
                    </div>
                    <div class="matrix-input-group">
                        <label class="matrix-label">SENHA</label>
                        <input type="password" name="password" class="matrix-input" required>
                    </div>
                    <button type="submit" class="matrix-btn matrix-btn-primary">ENTRAR</button>
                </form>
                
                <form id="advanced-login" class="matrix-form">
                    <div class="matrix-input-group">
                        <label class="matrix-label">CHAVE PÚBLICA</label>
                        <input type="text" name="publicKey" class="matrix-input" required>
                    </div>
                    <div class="matrix-input-group">
                        <label class="matrix-label">PIN 2FA</label>
                        <input type="text" name="pin" class="matrix-input" maxlength="8" required>
                    </div>
                    <button type="submit" class="matrix-btn matrix-btn-primary">ENTRAR</button>
                </form>
            </div>
            
            <div class="matrix-status">
                <p class="matrix-text-muted">Sistema de Segurança Ativo</p>
                <p class="matrix-text-dim">Rate Limiting • CSRF Protection • HTTPS</p>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const tabs = document.querySelectorAll('.matrix-tab');
            const forms = document.querySelectorAll('.matrix-form');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const target = tab.dataset.tab;
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    forms.forEach(form => {
                        form.classList.remove('active');
                        if (form.id === target + '-login') {
                            form.classList.add('active');
                        }
                    });
                });
            });
            
            document.getElementById('simple-login').addEventListener('submit', function(e) {
                e.preventDefault();
                const formData = new FormData(this);
                fetch('/user-login', { method: 'POST', body: formData })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        window.location.href = '/dashboard';
                    } else {
                        alert('Erro: ' + data.message);
                    }
                });
            });
            
            document.getElementById('advanced-login').addEventListener('submit', function(e) {
                e.preventDefault();
                const formData = new FormData(this);
                fetch('/advanced-login', { method: 'POST', body: formData })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        window.location.href = '/dashboard';
                    } else {
                        alert('Erro: ' + data.message);
                    }
                });
            });
        });
    </script>
</body>
</html>
